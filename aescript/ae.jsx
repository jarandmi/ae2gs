function returnAnimationBlock(layerName, time, propName, val1, x1, y1, x2, y2) {    var ret = "";    if (propName == "Position") {        ret = ', {"selector": "' + layerName + '", "time": "' + time.toFixed(3) +            '", "value": [' + val1[0]+            ', ' + val1[1]+            ']}';    } else {        ret = ', {"selector": "' + layerName + '", "time": "' + time.toFixed(3) +            '", "value": "' + val1 + '"}';    }    return ret;}function getCubicbeziers(){    var selectedLayers = app.project.activeItem.selectedLayers;    var framerate = 60;    if (selectedLayers == 0){        alert("Please Select at least one Layer");    } else if(selectedLayers !=0){        var allLayers = "";              //Loop selected layers        for (var ii = 0; ii < selectedLayers.length; ii++){            var selectedProperties = app.project.activeItem.selectedLayers[ii].selectedProperties;            layerName = selectedLayers[ii].name;             var props = '';            //Loop properties            for (var f in selectedProperties){                var printOpacity = "";                var printScale = "";                var printRotate = "";                var printPosition = "";                var currentProperty = selectedProperties[f];                var propName = currentProperty.name;                if (currentProperty.numKeys > 1){                    //Get time of first and last keyframe on selected property                    var startTime = currentProperty.keyTime(1) * framerate;                    var endTime = currentProperty.keyTime(currentProperty.numKeys) *framerate;                    //Loop keyframes                    for(var i = 0; i <= endTime; i++) {                        var val0, val1, val2;                        var time0 = (i-1) / framerate;                        var time1 = i / framerate;                        var time2 = (i+1) / framerate;                        if(i !== 1){                            var t0 = i-1;                            val0 = currentProperty.valueAtTime(time0, true);                            var prevKeyframeFrame = t0 * framerate;                        }                        var t1 = i;                        val1 = currentProperty.valueAtTime(time1, true);                        var currentKeyframeFrame = t1 * framerate;                        if(currentProperty.numKeys !== i){                            var t2 = i+1;                            val2 = currentProperty.valueAtTime(time2, true);                            var nextKeyframeFrame = t2 * framerate;                        }                        if(propName == "Scale"){                            if(i !== 1){ val0 = currentProperty.valueAtTime(time0, true)[0]; }                            val1 = currentProperty.valueAtTime(time1, true)[0];                            if(currentProperty.numKeys !== i){ val2 = currentProperty.valueAtTime(time2, true)[0]; }                            $.write("    " + val1);                        }                        if(propName == "Position"){                            val1[0] = currentProperty.valueAtTime(time1 , true)[0];                            val1[1] = currentProperty.valueAtTime(time1 , true)[1];                        }                        if(i == 1){                            calcTime = 1 / framerate;                        }                        else{                            calcTime = 1 / framerate;                        }                        if(propName == "Opacity"){                            printOpacity = printOpacity + returnAnimationBlock(layerName, calcTime, propName, val1/100, x1.toFixed(3), y1.toFixed(3) , x2.toFixed(3), y2.toFixed(3)) ;                        }                        else if(propName == "Scale"){                            //printScale = printScale + returnAnimationBlock(layerName, calcTime, propName, val1/100, x1.toFixed(3), y1.toFixed(3) , x2.toFixed(3), y2.toFixed(3)) ;                        }                        else if(propName == "Rotation"){                             printRotate = printRotate + returnAnimationBlock(layerName, calcTime, propName, val1, x1.toFixed(3) , y1.toFixed(3), x2.toFixed(3) , y2.toFixed(3)) ;                        }                        else if(propName == "Position"){                            printPosition = printPosition + returnAnimationBlock(layerName, calcTime, propName, val1) ;                        }                    } //Loop keyframes                    if(printPosition){                        props += ' , "position": [' + printPosition.substring(2) +']';                    }                    if(printRotate){                        props += ', "rotation": [' + printRotate.substring(2) + ']';                    }                    if(printOpacity){                        props += ', "opacity": [' + printOpacity.substring(2) + ']';                    }                    if(printScale){                       props += ', "scale": [' + printScale.substring(2) + ']';                    }                }  //if current            } //loop selected props            var jsonFile = ', {"layername": "' + layerName + '", "props": {' + props.substring(2) + '}}';            allLayers += jsonFile;        } //Loop selected layers        alert(JSON.parse(JSON.stringify('[' + allLayers.substring(2) + ']')));    } //IF else} //functionsgetCubicbeziers();